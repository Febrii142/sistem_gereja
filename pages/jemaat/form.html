<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Form Jemaat - Sistem Pengolahan Data Gereja">
    <title>Tambah Jemaat - Sistem Pengolahan Data Gereja</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="../../assets/images/logo.svg">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Bootstrap 5.3 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome 6 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="../../css/style.css">
</head>
<body>
    <!-- Sidebar Overlay (Mobile) -->
    <div class="sidebar-overlay"></div>
    
    <!-- Sidebar Navigation -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <img src="../../assets/images/logo.svg" alt="Logo" class="sidebar-logo">
            <div class="sidebar-brand">
                Sistem Gereja
                <small>Data Management</small>
            </div>
        </div>
        
        <nav class="sidebar-menu">
            <ul class="sidebar-nav">
                <li class="nav-item">
                    <a href="../../index.html" class="nav-link">
                        <i class="fas fa-home"></i>
                        <span>Dashboard</span>
                    </a>
                </li>
                
                <li class="nav-item has-submenu open">
                    <a href="#" class="nav-link">
                        <i class="fas fa-users"></i>
                        <span>Data Jemaat</span>
                    </a>
                    <ul class="submenu">
                        <li class="nav-item">
                            <a href="list.html" class="nav-link">Daftar Jemaat</a>
                        </li>
                        <li class="nav-item">
                            <a href="form.html" class="nav-link active">Tambah Jemaat</a>
                        </li>
                    </ul>
                </li>
                
                <li class="nav-item has-submenu">
                    <a href="#" class="nav-link">
                        <i class="fas fa-calendar-alt"></i>
                        <span>Jadwal & Kegiatan</span>
                    </a>
                    <ul class="submenu">
                        <li class="nav-item">
                            <a href="../jadwal/calendar.html" class="nav-link">Kalender</a>
                        </li>
                        <li class="nav-item">
                            <a href="../jadwal/list.html" class="nav-link">Daftar Jadwal</a>
                        </li>
                        <li class="nav-item">
                            <a href="../jadwal/form.html" class="nav-link">Tambah Jadwal</a>
                        </li>
                    </ul>
                </li>
                
                <li class="nav-item has-submenu">
                    <a href="#" class="nav-link">
                        <i class="fas fa-wallet"></i>
                        <span>Keuangan</span>
                    </a>
                    <ul class="submenu">
                        <li class="nav-item">
                            <a href="../keuangan/dashboard.html" class="nav-link">Dashboard</a>
                        </li>
                        <li class="nav-item">
                            <a href="../keuangan/transaksi.html" class="nav-link">Transaksi</a>
                        </li>
                        <li class="nav-item">
                            <a href="../keuangan/form-pemasukan.html" class="nav-link">Tambah Pemasukan</a>
                        </li>
                        <li class="nav-item">
                            <a href="../keuangan/form-pengeluaran.html" class="nav-link">Tambah Pengeluaran</a>
                        </li>
                        <li class="nav-item">
                            <a href="../keuangan/laporan.html" class="nav-link">Laporan</a>
                        </li>
                    </ul>
                </li>
            </ul>
            
            <div class="menu-section">
                <span class="menu-section-title">Pengaturan</span>
            </div>
            <ul class="sidebar-nav">
                <li class="nav-item">
                    <a href="#" class="nav-link">
                        <i class="fas fa-cog"></i>
                        <span>Pengaturan</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="../login.html" class="nav-link">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>Keluar</span>
                    </a>
                </li>
            </ul>
        </nav>
    </aside>
    
    <!-- Main Content -->
    <main class="main-content">
        <!-- Top Navbar -->
        <header class="top-navbar">
            <div class="navbar-left">
                <button class="sidebar-toggle">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="navbar-search">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Cari jemaat, kegiatan, transaksi...">
                </div>
            </div>
            
            <div class="navbar-right">
                <button class="navbar-icon-btn" data-bs-toggle="tooltip" title="Notifikasi">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge">3</span>
                </button>
                
                <div class="dropdown">
                    <div class="user-dropdown" data-bs-toggle="dropdown">
                        <div class="user-avatar">A</div>
                        <div class="user-info d-none d-md-block">
                            <div class="user-name">Administrator</div>
                            <div class="user-role">Admin</div>
                        </div>
                        <i class="fas fa-chevron-down ms-2 d-none d-md-block"></i>
                    </div>
                    <ul class="dropdown-menu dropdown-menu-end">
                        <li><a class="dropdown-item" href="#"><i class="fas fa-user me-2"></i>Profil Saya</a></li>
                        <li><a class="dropdown-item" href="#"><i class="fas fa-cog me-2"></i>Pengaturan</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item text-danger" href="../login.html"><i class="fas fa-sign-out-alt me-2"></i>Keluar</a></li>
                    </ul>
                </div>
            </div>
        </header>
        
        <!-- Page Content -->
        <div class="page-content">
            <!-- Breadcrumb -->
            <nav class="breadcrumb-wrapper" aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="../../index.html">Dashboard</a></li>
                    <li class="breadcrumb-item"><a href="list.html">Data Jemaat</a></li>
                    <li class="breadcrumb-item active" aria-current="page">Tambah Jemaat</li>
                </ol>
            </nav>
            
            <!-- Page Header -->
            <div class="page-header">
                <h1 class="page-title">Tambah Data Jemaat</h1>
                <p class="page-subtitle">Isi formulir di bawah untuk menambahkan data jemaat baru</p>
            </div>
            
            <!-- Form Card -->
            <div class="content-card">
                <div class="card-header">
                    <h5 class="card-title">
                        <i class="fas fa-user-plus"></i>
                        Formulir Data Jemaat
                    </h5>
                </div>
                <div class="card-body">
                    <form class="needs-validation" id="jemaatForm" novalidate>
                        <!-- Section: Data Pribadi -->
                        <div class="form-section">
                            <h6 class="form-section-title">
                                <i class="fas fa-user me-2 text-primary"></i>Data Pribadi
                            </h6>
                            
                            <div class="row g-3">
                                <!-- Foto Profil -->
                                <div class="col-12">
                                    <label class="form-label">Foto Profil</label>
                                    <div class="file-upload" onclick="document.getElementById('foto').click()">
                                        <i class="fas fa-cloud-upload-alt"></i>
                                        <p class="upload-text">Klik untuk upload foto</p>
                                        <p class="upload-hint">Format: JPG, PNG. Maksimal 2MB</p>
                                        <input type="file" id="foto" name="foto" accept="image/*" hidden>
                                    </div>
                                </div>
                                
                                <!-- Nama Lengkap -->
                                <div class="col-md-6">
                                    <label for="nama" class="form-label">
                                        Nama Lengkap <span class="required">*</span>
                                    </label>
                                    <input type="text" class="form-control" id="nama" name="nama" placeholder="Masukkan nama lengkap" required>
                                    <div class="invalid-feedback">Nama lengkap wajib diisi</div>
                                </div>
                                
                                <!-- NIJ -->
                                <div class="col-md-6">
                                    <label for="nij" class="form-label">
                                        Nomor Induk Jemaat (NIJ)
                                    </label>
                                    <input type="text" class="form-control" id="nij" name="nij" placeholder="Auto-generate" readonly style="background-color: #f8f9fa;">
                                    <div class="form-text">NIJ akan digenerate otomatis oleh sistem</div>
                                </div>
                                
                                <!-- Tanggal Lahir -->
                                <div class="col-md-4">
                                    <label for="tanggal_lahir" class="form-label">
                                        Tanggal Lahir <span class="required">*</span>
                                    </label>
                                    <input type="date" class="form-control" id="tanggal_lahir" name="tanggal_lahir" required>
                                    <div class="invalid-feedback">Tanggal lahir wajib diisi</div>
                                </div>
                                
                                <!-- Tempat Lahir -->
                                <div class="col-md-4">
                                    <label for="tempat_lahir" class="form-label">
                                        Tempat Lahir <span class="required">*</span>
                                    </label>
                                    <input type="text" class="form-control" id="tempat_lahir" name="tempat_lahir" placeholder="Contoh: Jakarta" required>
                                    <div class="invalid-feedback">Tempat lahir wajib diisi</div>
                                </div>
                                
                                <!-- Jenis Kelamin -->
                                <div class="col-md-4">
                                    <label for="jenis_kelamin" class="form-label">
                                        Jenis Kelamin <span class="required">*</span>
                                    </label>
                                    <select class="form-select" id="jenis_kelamin" name="jenis_kelamin" required>
                                        <option value="">Pilih jenis kelamin</option>
                                        <option value="L">Laki-laki</option>
                                        <option value="P">Perempuan</option>
                                    </select>
                                    <div class="invalid-feedback">Jenis kelamin wajib dipilih</div>
                                </div>
                                
                                <!-- Status Pernikahan -->
                                <div class="col-md-6">
                                    <label for="status_nikah" class="form-label">
                                        Status Pernikahan <span class="required">*</span>
                                    </label>
                                    <select class="form-select" id="status_nikah" name="status_nikah" required>
                                        <option value="">Pilih status</option>
                                        <option value="belum_menikah">Belum Menikah</option>
                                        <option value="menikah">Menikah</option>
                                        <option value="janda">Janda</option>
                                        <option value="duda">Duda</option>
                                    </select>
                                    <div class="invalid-feedback">Status pernikahan wajib dipilih</div>
                                </div>
                                
                                <!-- Pekerjaan -->
                                <div class="col-md-6">
                                    <label for="pekerjaan" class="form-label">Pekerjaan</label>
                                    <input type="text" class="form-control" id="pekerjaan" name="pekerjaan" placeholder="Contoh: Pegawai Swasta">
                                </div>
                            </div>
                        </div>
                        
                        <!-- Section: Kontak -->
                        <div class="form-section">
                            <h6 class="form-section-title">
                                <i class="fas fa-address-book me-2 text-primary"></i>Informasi Kontak
                            </h6>
                            
                            <div class="row g-3">
                                <!-- Alamat -->
                                <div class="col-12">
                                    <label for="alamat" class="form-label">
                                        Alamat Lengkap <span class="required">*</span>
                                    </label>
                                    <textarea class="form-control" id="alamat" name="alamat" rows="3" placeholder="Masukkan alamat lengkap (jalan, RT/RW, kelurahan, kecamatan)" required></textarea>
                                    <div class="invalid-feedback">Alamat wajib diisi</div>
                                </div>
                                
                                <!-- Kota -->
                                <div class="col-md-4">
                                    <label for="kota" class="form-label">Kota/Kabupaten</label>
                                    <input type="text" class="form-control" id="kota" name="kota" placeholder="Contoh: Jakarta Selatan">
                                </div>
                                
                                <!-- Provinsi -->
                                <div class="col-md-4">
                                    <label for="provinsi" class="form-label">Provinsi</label>
                                    <select class="form-select" id="provinsi" name="provinsi">
                                        <option value="">Pilih provinsi</option>
                                        <option value="DKI Jakarta">DKI Jakarta</option>
                                        <option value="Jawa Barat">Jawa Barat</option>
                                        <option value="Jawa Tengah">Jawa Tengah</option>
                                        <option value="Jawa Timur">Jawa Timur</option>
                                        <option value="Banten">Banten</option>
                                        <option value="Bali">Bali</option>
                                        <option value="Lainnya">Lainnya</option>
                                    </select>
                                </div>
                                
                                <!-- Kode Pos -->
                                <div class="col-md-4">
                                    <label for="kode_pos" class="form-label">Kode Pos</label>
                                    <input type="text" class="form-control" id="kode_pos" name="kode_pos" placeholder="Contoh: 12345" maxlength="5">
                                </div>
                                
                                <!-- Telepon -->
                                <div class="col-md-6">
                                    <label for="telepon" class="form-label">
                                        Nomor Telepon/HP <span class="required">*</span>
                                    </label>
                                    <input type="tel" class="form-control" id="telepon" name="telepon" placeholder="Contoh: 081234567890" required>
                                    <div class="invalid-feedback">Nomor telepon wajib diisi dengan format yang benar</div>
                                </div>
                                
                                <!-- Email -->
                                <div class="col-md-6">
                                    <label for="email" class="form-label">Email</label>
                                    <input type="email" class="form-control" id="email" name="email" placeholder="Contoh: nama@email.com">
                                    <div class="invalid-feedback">Format email tidak valid</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Section: Data Gereja -->
                        <div class="form-section">
                            <h6 class="form-section-title">
                                <i class="fas fa-church me-2 text-primary"></i>Data Keanggotaan Gereja
                            </h6>
                            
                            <div class="row g-3">
                                <!-- Tanggal Bergabung -->
                                <div class="col-md-4">
                                    <label for="tanggal_bergabung" class="form-label">
                                        Tanggal Bergabung <span class="required">*</span>
                                    </label>
                                    <input type="date" class="form-control" id="tanggal_bergabung" name="tanggal_bergabung" required>
                                    <div class="invalid-feedback">Tanggal bergabung wajib diisi</div>
                                </div>
                                
                                <!-- Tanggal Baptis -->
                                <div class="col-md-4">
                                    <label for="tanggal_baptis" class="form-label">Tanggal Baptis</label>
                                    <input type="date" class="form-control" id="tanggal_baptis" name="tanggal_baptis">
                                    <div class="form-text">Kosongkan jika belum dibaptis</div>
                                </div>
                                
                                <!-- Status Keanggotaan -->
                                <div class="col-md-4">
                                    <label for="status" class="form-label">
                                        Status Keanggotaan <span class="required">*</span>
                                    </label>
                                    <select class="form-select" id="status" name="status" required>
                                        <option value="">Pilih status</option>
                                        <option value="aktif" selected>Aktif</option>
                                        <option value="tidak_aktif">Tidak Aktif</option>
                                        <option value="pindah">Pindah</option>
                                    </select>
                                    <div class="invalid-feedback">Status keanggotaan wajib dipilih</div>
                                </div>
                                
                                <!-- Kelompok/Komisi -->
                                <div class="col-md-6">
                                    <label for="kelompok" class="form-label">Kelompok/Komisi</label>
                                    <select class="form-select" id="kelompok" name="kelompok">
                                        <option value="">Pilih kelompok</option>
                                        <option value="pemuda">Pemuda</option>
                                        <option value="dewasa">Dewasa</option>
                                        <option value="lansia">Lansia</option>
                                        <option value="wanita">Wanita</option>
                                        <option value="pria">Pria</option>
                                    </select>
                                </div>
                                
                                <!-- Pelayanan -->
                                <div class="col-md-6">
                                    <label for="pelayanan" class="form-label">Pelayanan</label>
                                    <select class="form-select" id="pelayanan" name="pelayanan">
                                        <option value="">Pilih pelayanan</option>
                                        <option value="worship">Tim Worship</option>
                                        <option value="multimedia">Multimedia</option>
                                        <option value="usher">Usher/Penyambut</option>
                                        <option value="doa">Tim Doa</option>
                                        <option value="anak">Sekolah Minggu</option>
                                        <option value="konseling">Konseling</option>
                                        <option value="diakonia">Diakonia</option>
                                    </select>
                                </div>
                                
                                <!-- Catatan -->
                                <div class="col-12">
                                    <label for="catatan" class="form-label">Catatan Tambahan</label>
                                    <textarea class="form-control" id="catatan" name="catatan" rows="3" placeholder="Catatan tambahan tentang jemaat (opsional)"></textarea>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Form Actions -->
                        <div class="d-flex justify-content-end gap-2 pt-3 border-top">
                            <a href="list.html" class="btn btn-light">
                                <i class="fas fa-times me-1"></i>Batal
                            </a>
                            <button type="reset" class="btn btn-outline-primary">
                                <i class="fas fa-redo me-1"></i>Reset
                            </button>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save me-1"></i>Simpan Data
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </main>
    
    <!-- Toast Container -->
    <div class="toast-container"></div>
    
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Custom JS -->
    <script src="../../js/main.js"></script>
    
    <!-- Form Specific Script -->
    <script>
        // Preview uploaded image
        document.getElementById('foto').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const preview = document.querySelector('.file-upload');
                    preview.innerHTML = `
                        <img src="${e.target.result}" alt="Preview" style="max-width: 150px; max-height: 150px; border-radius: 8px;">
                        <p class="upload-text mt-2">Klik untuk ganti foto</p>
                    `;
                };
                reader.readAsDataURL(file);
            }
        });
        
        // Auto generate NIJ on page load
        document.getElementById('nij').value = 'NIJ-2024-' + String(Math.floor(Math.random() * 900) + 100).padStart(3, '0');
        
        // Set default date for tanggal_bergabung to today
        document.getElementById('tanggal_bergabung').valueAsDate = new Date();
    </script>
</body>
</html>
